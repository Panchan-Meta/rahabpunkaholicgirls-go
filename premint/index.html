<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>WL Entry — Rahab Punkaholic Girls PFPs 2025</title>
  <meta name="description" content="WL ENTRY — 16 guaranteed PFPs (0.36Ξ). Winners receive a wallet-bound private OpenSea link (24h). Enter in 30 seconds." />
  <meta property="og:title" content="WL Entry — Rahab Punkaholic Girls PFPs 2025" />
  <meta property="og:description" content="16 guaranteed PFPs • 0.36Ξ • Wallet-bound link (24h). Enter now." />
  <meta property="og:type" content="website" />
  <meta name="format-detection" content="telephone=no" />

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-66GTK7C6VR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-66GTK7C6VR', { transport_type: 'beacon' });
  </script>

  <style>
    :root{ --bg:#0b0b10; --fg:#f6f7fb; --muted:#a9aec4; --pri:#24d1ff; --pri-2:#ff3aa5; --card:#131321; --border:#242646; }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,"Noto Sans JP","Noto Sans KR","Noto Sans",system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.5}
    a{color:var(--pri);text-decoration:none}
    .container{max-width:960px;margin:0 auto;padding:20px}
    .hero{display:grid;gap:16px;place-items:center;text-align:center;padding:72px 16px 48px;
      background:radial-gradient(1200px 600px at 50% -10%, rgba(36,209,255,.18), transparent 60%),
                 radial-gradient(800px 400px at 90% 10%, rgba(255,58,165,.20), transparent 60%);
      border-bottom:1px solid var(--border)}
    .kicker{letter-spacing:.08em;text-transform:uppercase;color:var(--pri);font-weight:700;font-size:.85rem}
    h1{font-size:clamp(28px,5vw,44px);margin:.2em 0 .1em}
    .sub{color:var(--muted);font-size:clamp(14px,2.6vw,18px)}
    .cta{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 22px;border-radius:14px;font-weight:800;font-size:18px;color:#0b0b10;
      background:linear-gradient(135deg,var(--pri),var(--pri-2));box-shadow:0 10px 25px rgba(36,209,255,.25), inset 0 0 0 1px rgba(255,255,255,.2);transition:transform .12s ease,filter .12s ease}
    .cta:hover{transform:translateY(-1px);filter:brightness(1.05)} .cta:active{transform:translateY(0)}
    .grid{display:grid;gap:16px;margin:28px 0}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:18px}
    .card h3{margin:0 0 .4em;font-size:18px}
    .steps{counter-reset:st}
    .step{position:relative;padding-left:46px}
    .step:before{counter-increment:st;content:counter(st);position:absolute;left:0;top:0;width:32px;height:32px;border-radius:10px;background:linear-gradient(135deg,var(--pri),var(--pri-2));color:#0b0b10;font-weight:900;display:grid;place-items:center}
    .notice{font-size:13px;color:var(--muted)}
    .cta-block{display:grid;place-items:center;margin:16px 0 40px}
    footer{border-top:1px solid var(--border);color:var(--muted);font-size:13px}
    .sticky-cta{position:fixed;left:0;right:0;bottom:0;z-index:10;padding:10px;background:linear-gradient(180deg,transparent,rgba(11,11,16,.7) 20%, rgba(11,11,16,.9) 80%);display:none}
    .sticky-cta .wrap{max-width:960px;margin:0 auto;display:flex;gap:10px;align-items:center;justify-content:center}
    .sticky-cta .cta{width:100%;max-width:360px}
    @media (min-width:720px){ .grid{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:720px){ .sticky-cta{display:block} }

    .btn-ghost{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 18px;border-radius:12px;font-weight:700;font-size:15px;color:var(--fg);border:1px solid var(--border);background:transparent;transition:transform .12s ease,filter .12s ease,background .12s ease}
    .btn-ghost:hover{transform:translateY(-1px);filter:brightness(1.08);background:rgba(255,255,255,.03)}
    .btn-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}

    /* Trust strip + IG QR */
    .trust-strip{display:flex;gap:.6rem;align-items:center;justify-content:center;margin:6px 0 2px;padding:8px 12px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);font-size:.95rem;line-height:1.2;color:#cfe3ff}
    .trust-strip a{color:#9ec5ff;text-decoration:none}
    .trust-strip .icon{width:18px;height:18px;flex:0 0 18px}
    .ig-qr-btn{margin-left:.6rem;padding:6px 10px;border-radius:999px;background:linear-gradient(135deg,#ff5db1,#8359ff);color:#fff;border:0;cursor:pointer}

    /* Modal */
    .modal-mask{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;z-index:1000}
    .modal{position:fixed;inset:0;display:none;place-items:center;z-index:1001}
    .modal.open,.modal-mask.open{display:grid}
    .modal-card{background:#0f1220;border:1px solid #2a3352;border-radius:18px;max-width:520px;width:92vw;padding:20px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,.5);position:relative}
    .modal-card img{display:block;width:280px;max-width:70vw;height:auto;border-radius:12px;background:transparent;object-fit:contain}
    .modal-actions{display:flex;gap:10px;justify-content:center;margin-top:14px;flex-wrap:wrap}
    .btn{border:1px solid #3a4a7a;border-radius:10px;padding:10px 14px;background:#182042;color:#dfe8ff;cursor:pointer}
    .btn.primary{background:linear-gradient(135deg,#ff5db1,#8359ff);border:0;color:#fff}
    .modal-close-x{position:absolute;top:10px;right:12px;width:36px;height:36px;border-radius:10px;border:1px solid #2f3a62;background:#151a2e;color:#cfe3ff;display:grid;place-items:center;cursor:pointer}
    .modal-close-x:hover{filter:brightness(1.12)}
    .qr-fallback{display:none;color:#b9c6ff;margin-top:10px;border:1px dashed #3a4a7a;border-radius:10px;padding:10px}

    /* Recap badge styles */
    .recap{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin-top:12px}
    .pill{display:flex;flex-direction:column;gap:4px;border:1px solid var(--border);background:rgba(255,255,255,.04);padding:14px;border-radius:14px}
    .pill small{color:var(--muted);letter-spacing:.04em}
    .num{font-size:28px;font-weight:900}
    .good{color:#57ffa6}
    .warn{color:#ffd257}
  </style>
</head>
<body>

  <header class="hero">
    <div class="kicker">Rahab Punkaholic Girls PFPs 2025</div>
    <h1 id="i18n-h1">WL ENTRY — <span style="color:var(--pri)">16</span> Guaranteed</h1>
    <p class="sub" id="i18n-sub">Supply: <b>16 (4 characters × 4)</b><br>
      Winners get a <b>wallet-bound private OpenSea link (24h)</b>.
    </p>

    <div class="trust-strip" id="trust-strip" role="note" aria-label="Trust & verification">
      <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="#53c7ff" d="M12 2l2.1 2.5 3.2-.4 1.4 2.9 3 .9-.9 3 2 2.4-2 2.4.9 3-3 .9-1.4 2.9-3.2-.4L12 22l-2.1-2.5-3.2.4L5.3 17 2.3 16l.9-3-2-2.4 2-2.4-.9-3 3-.9L6.7 4l3.2.4L12 2z"/>
        <path fill="#0f1220" d="M10.4 15.6l-3-3 1.4-1.4 1.6 1.6 4.6-4.6 1.4 1.4z"/>
      </svg>
      <span id="trust-text">Meta Verified on Instagram —
        <a href="https://www.instagram.com/punkaholicband/" id="ig-badge-link" rel="noopener">/</a>
      </span>
      <button class="ig-qr-btn" id="open-ig-qr" aria-haspopup="dialog" aria-controls="ig-qr-modal" data-ga-event="ig_qr_open" data-ga-label="hero_qr_button">Show QR</button>
    </div>

    <div class="btn-row">
      <a id="cta-top" class="cta" href="https://docs.google.com/forms/d/e/1FAIpQLSfqIEncJRO3wT1IBAaM7y5KYXlTYrVkAbuaHze5iLpnuHP5JA/viewform?usp=header" rel="noopener" data-ga-event="wl_form_click" data-ga-label="hero">Enter WL Now</a>
      <a id="btn-ghost-hero" class="btn-ghost" href="/go/opensea/?url=https%3A%2F%2Fopensea.io%2Fcollection%2Frahab-punkaholic-girls-pfps-2025&label=wl_lp_opensea_hero" target="_blank" rel="noopener" data-ga-event="opensea_click" data-ga-label="hero">View on OpenSea</a>
      <!-- NEW: Ask on Discord -->
      <a id="btn-discord-hero" class="btn-ghost" href="/go/discord" rel="noopener" data-ga-event="discord_click" data-ga-label="hero">Ask on Discord</a>
    </div>
  </header>

  <main class="container">
    <!-- ===== Recap from Main (np / fair_eth / wl_eth) ===== -->
    <section class="card" id="recap-card" aria-live="polite">
      <h3 style="margin:0 0 .6rem;" id="recap-title">Your estimate from the main page</h3>
      <p class="notice" style="margin:.2rem 0 1rem;" id="recap-desc">If you came from the Fair Price simulator, your numbers are shown below. If not, we use defaults based on the WL price <b>0.288 ETH</b>.</p>
      <div class="recap">
        <div class="pill">
          <small id="pill1">Annual net profit (ETH)</small>
          <div class="num" id="recap-np">—</div>
        </div>
        <div class="pill">
          <small id="pill2">Fair price (your assumption)</small>
          <div class="num" id="recap-fair">—</div>
        </div>
        <div class="pill">
          <small id="pill3">WL price</small>
          <div class="num good" id="recap-wl">0.288 ETH</div>
        </div>
        <div class="pill">
          <small id="pill4">Estimated saving vs. fair</small>
          <div class="num" id="recap-save">—</div>
        </div>
      </div>
      <p class="notice" id="recap-note" style="margin-top:.6rem;"></p>
    </section>

    <section class="grid">
      <article class="card" id="card-why">
        <h3 id="why-title">Why join?</h3>
        <ul id="why-list">
          <li id="why-1">Guaranteed scarcity: only 16 pieces</li>
          <li id="why-2">Wallet-bound private listing (24h claim)</li>
          <li>Holder perks:
            <ul style="margin:.4em 0 0 1em">
              <li id="why-profit">Profit sharing: 30% of PGirlsChain (PGirls) Distributable Net Profit, distributed pro rata to holders twice a year (15% × 2) per PFP. <a id="perks-link" href="https://rahabpunkaholicgirls.com/collect-the-digital-punk-story-2/#perks" target="_blank" rel="noopener" data-ga-event="click_outbound" data-ga-label="rewards_policy">See Rewards Policy.</a></li>
              <li id="why-live">3D Live priority</li>
            </ul>
          </li>
        </ul>
      </article>

      <article class="card" id="card-how">
        <h3 id="how-title">How it works</h3>
        <ol class="steps" style="margin:0;padding:0;list-style:none">
          <li class="step" id="step1">Enter wallet / Discord / email (30s)</li>
          <li class="step" id="step2">Winners announced: <b>Oct 16, 20:00 CEST / Oct 17, 03:00 JST</b></li>
          <li class="step" id="step3">Claim via your wallet-bound OpenSea link (24h)</li>
          <li class="step" id="step4">Join Discord → unlock perks</li>
        </ol>
        <p class="notice" id="price-note">Price: <b>0.288 ETH</b></p>
      </article>

      <article class="card" id="card-safety">
        <h3 id="safety-title">Safety</h3>
        <p class="notice" id="safety-text">
          We will never ask you to send ETH in DMs. Use official links only:<br>
          • <a href="https://rahabpunkaholicgirls.com" target="_blank" rel="noopener" data-ga-event="click_outbound" data-ga-label="site_home">rahabpunkaholicgirls.com</a><br>
          • <a id="link-discord" href="/go/discord" target="_blank" rel="noopener" data-ga-event="click_outbound" data-ga-label="discord_invite">Discord</a><br>
          • <a id="link-opensea" href="/go/opensea/?url=https%3A%2F%2Fopensea.io%2Fcollection%2Frahab-punkaholic-girls-pfps-2025&label=wl_lp_opensea_safety" target="_blank" rel="noopener" data-ga-event="opensea_click" data-ga-label="safety">OpenSea Collection</a>
        </p>
      </article>
    </section>

    <section class="cta-block">
      <div class="btn-row">
        <a id="cta-mid" class="cta" href="https://docs.google.com/forms/d/e/1FAIpQLSfqIEncJRO3wT1IBAaM7y5KYXlTYrVkAbuaHze5iLpnuHP5JA/viewform?usp=header" rel="noopener" data-ga-event="wl_form_click" data-ga-label="mid">Enter WL — It takes 30s</a>
        <a id="btn-ghost-mid" class="btn-ghost" href="/go/opensea/?url=https%3A%2F%2Fopensea.io%2Fcollection%2Frahab-punkaholic-girls-pfps-2025&label=wl_lp_opensea_mid" target="_blank" rel="noopener" data-ga-event="opensea_click" data-ga-label="mid">View on OpenSea</a>
      </div>
    </section>

    <footer class="container" style="padding-bottom:80px">
      <p class="notice" id="i18n-footer">© Rahab Punkaholic Girls 2025</p>
    </footer>
  </main>

  <div class="sticky-cta">
    <div class="wrap">
      <a id="cta-stick" class="cta" href="https://docs.google.com/forms/d/e/1FAIpQLSfqIEncJRO3wT1IBAaM7y5KYXlTYrVkAbuaHze5iLpnuHP5JA/viewform?usp=header" rel="noopener" data-ga-event="wl_form_click" data-ga-label="sticky">Enter WL Now</a>
      <a id="btn-ghost-stick" class="btn-ghost" href="/go/opensea/?url=https%3A%2F%2Fopensea.io%2Fcollection%2Frahab-punkaholic-girls-pfps-2025&label=wl_lp_opensea_sticky" target="_blank" rel="noopener" aria-label="OpenSea Collection" data-ga-event="opensea_click" data-ga-label="sticky">OpenSea</a>
    </div>
  </div>

  <!-- IG QR Modal (desktop) ...（以下は元のまま） -->

  <script>
    /* ========= Constants ========= */
    const OPENSEA_URL = "https://opensea.io/collection/rahab-punkaholic-girls-pfps-2025";
    const OPENSEA_GO  = "/go/opensea/?url=" + encodeURIComponent(OPENSEA_URL);
    const PUBLIC_ETH  = 0.36;   // public price
    const WL_ETH_DEF  = 0.288;  // default WL price

    /* ========= Recap params from main ========= */
    const qs = new URLSearchParams(location.search);
    const npParam   = (qs.get('np')       || '').trim();
    const fairParam = (qs.get('fair_eth') || '').trim();
    const wlParam   = (qs.get('wl_eth')   || '').trim();

    const toNum = v => (v === '' || v === null || isNaN(parseFloat(v))) ? null : parseFloat(v);

    // NEW: if it's a direct link (no params), force defaults (no fair/np; wl=0.288)
    const hasParams = (npParam !== '' || fairParam !== '' || wlParam !== '');
    const useDefaults = !hasParams;

    const np      = useDefaults ? null : toNum(npParam);
    const fairEth = useDefaults ? null : toNum(fairParam);
    const wlEth   = useDefaults ? WL_ETH_DEF : (toNum(wlParam) ?? WL_ETH_DEF);

    function fmt(n, digits=3){ return (n==null) ? '—' : (Number(n).toFixed(digits) + ' ETH'); }
    function renderRecap(){
      document.getElementById('recap-np').textContent   = (np==null) ? '—' : Number(np).toFixed(1) + ' ETH/yr';
      document.getElementById('recap-fair').textContent = fmt(fairEth);
      document.getElementById('recap-wl').textContent   = (wlEth||WL_ETH_DEF).toFixed(3) + ' ETH';

      const saveNode = document.getElementById('recap-save');
      const noteNode = document.getElementById('recap-note');
      if (fairEth!=null){
        const diff = fairEth - wlEth;
        const pct  = diff > 0 ? (diff/fairEth)*100 : 0;
        saveNode.textContent = (diff>0) ? `${diff.toFixed(3)} ETH (~${pct.toFixed(0)}%)` : '—';
        noteNode.innerHTML = `Public: <b>${PUBLIC_ETH.toFixed(3)} ETH</b> → WL: <b>${wlEth.toFixed(3)} ETH</b>`;
      } else {
        saveNode.textContent = '—';
        noteNode.innerHTML = `WL price: <b>${wlEth.toFixed(3)} ETH</b> (public <b>${PUBLIC_ETH.toFixed(3)} ETH</b>)`;
      }

      if (window.gtag){
        gtag('event','wl_param_view',{
          np_eth: np ?? '(none)',
          fair_eth: fairEth ?? '(none)',
          wl_eth: wlEth,
          public_eth: PUBLIC_ETH,
          direct_defaults: useDefaults ? 1 : 0
        });
      }
    }
    renderRecap();

    /* ========= GA tracked navigation helpers ========= */
    function bindTrackedNav(el, eventName, placement){
      if(!el) return;
      if (eventName.indexOf('opensea')===0) {
        el.setAttribute('href', OPENSEA_GO + '&label=' + encodeURIComponent('wl_lp_' + placement));
      }
      el.addEventListener('click', function(e){
        const href = el.getAttribute('href'); let navigated=false;
        if(window.gtag && href){
          e.preventDefault();
          gtag('event', eventName, {
            link_url: href,
            link_text: (el.textContent||'').trim(),
            placement: placement,
            np_eth: np ?? '(none)',
            fair_eth: fairEth ?? '(none)',
            wl_eth: wlEth,
            event_callback: function(){ navigated=true; location.href = href; }
          });
          setTimeout(function(){ if(!navigated){ location.href = href; } }, 350);
        }
      }, {passive:false});
    }

    // Explicit bindings
    bindTrackedNav(document.getElementById('cta-top'),   'wl_form_click', 'hero');
    bindTrackedNav(document.getElementById('cta-mid'),   'wl_form_click', 'mid');
    bindTrackedNav(document.getElementById('cta-stick'), 'wl_form_click', 'sticky');
    bindTrackedNav(document.getElementById('btn-ghost-hero'), 'opensea_click', 'hero');
    bindTrackedNav(document.getElementById('btn-ghost-mid'),  'opensea_click', 'mid');
    bindTrackedNav(document.getElementById('btn-ghost-stick'),'opensea_click', 'sticky');
    bindTrackedNav(document.getElementById('btn-discord-hero'),'discord_click', 'hero'); /* NEW */
    bindTrackedNav(document.getElementById('link-opensea'),   'opensea_click', 'safety');

    /* ========= Universal auto-instrumentation (unchanged) ========= */
    function instrumentAll(){
      document.querySelectorAll('a,button').forEach(function(el){
        if (el._gaBound) return;
        const ev = el.getAttribute('data-ga-event');
        const label = el.getAttribute('data-ga-label') || (el.id || '').toLowerCase() || 'auto';
        if (ev){
          el._gaBound = true;
          el.addEventListener('click', function(e){
            let href = (el.tagName==='A') ? el.getAttribute('href') : '';
            let navigated=false;
            if(window.gtag){
              if(href){ e.preventDefault(); }
              gtag('event', ev, {
                link_url: href || '(none)',
                link_text: (el.textContent||'').trim(),
                placement: label,
                np_eth: np ?? '(none)',
                fair_eth: fairEth ?? '(none)',
                wl_eth: wlEth,
                event_callback: function(){ if(href){ navigated=true; location.href = href; } }
              });
              if(href){ setTimeout(function(){ if(!navigated){ location.href = href; } }, 350); }
            }
          }, {passive:false});
        } else if (el.tagName==='A'){
          try{
            const url = new URL(el.href, location.href);
            if (url.host !== location.host && !url.pathname.startsWith('/go/opensea')){
              el._gaBound = true;
              el.addEventListener('click', function(e){
                let navigated=false;
                if(window.gtag){
                  e.preventDefault();
                  gtag('event','click_outbound',{
                    link_url: el.href,
                    link_text: (el.textContent||'').trim(),
                    placement: label,
                    event_callback: function(){ navigated=true; location.href = el.href; }
                  });
                  setTimeout(function(){ if(!navigated){ location.href = el.href; } }, 350);
                }
              }, {passive:false});
            }
          }catch(_){}
        }
      });
    }
    document.addEventListener('DOMContentLoaded', instrumentAll);
    new MutationObserver(instrumentAll).observe(document.body, {childList:true, subtree:true});

    /* ========= IG QR modal & i18n (元コードのまま) ========= */
    // ...（省略：お使いのままでOK）
  </script>
</body>
</html>
